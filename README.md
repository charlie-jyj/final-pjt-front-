## final pjt

## 프로젝트 구조

- 백엔드 서버: django rest-framework를 활용한 api 서버
  - 
- 프론트엔드 서버: vue.js를 활용한 프론트 서버
  - 

## 상세 정보

1. 팀원 정보 및 업무 분담 내역 팀원: 유태규, 정유진 업무 분담 내역: 
   - 공통: 구현할 기능 및 api end points 설정, 최종 점검 및 발표 자료 구성 
   - 유태규: backend api 서버 구축
   -  정유진: frontend 서버 구축
2. 목표 서비스 구현 및 실제 구현 정도
   -  목표 서비스: 
     - 필수: 영화 추천 기능, 커뮤니티 기능(댓글, 리뷰), 평점(0~5) 
     - 추가기능: 영화 검색어 자동완성, 닉네임 정해주기, 광고 기능, 영화 스케쥴러 
   - 실제 구현 정도: 
     - 필수:   
       - 영화 추천 기능(O)
       - 커뮤니티 기능(O)
       - 평점(O) 
     - 추가기능:  
       -  영화 검색어 자동완성(O)
       -  닉네임 정해주기 (O)
       -  광고 기능(X: 사용한 static파일들의 source가 무료인지 아닌지 알 수가 없었으므로 광고는 달지 않았다)
       -   영화 스케쥴러(O)
       -   카카오톡 공유 기능()
3. 데이터베이스 모델링(ERD)![img](https://lh3.googleusercontent.com/RPeD0nf82SzK4b_Mu51pXgKTheg4ynFcvpCP3EvPavjIO2KUNiZR9g6tny6KSzuDzz_--lcrN7UkbaccHsqbE8NfbRk-OG5njf_ZvtzKA2b8iRr-eK3_JgfvmZhrkwL4akzwqPJD)![img](https://lh5.googleusercontent.com/JTtmpERNgzXcgLs0-zn9SwmV18RG0JAzu_GxgSjLWPQv1W2f7V3LVLCE8_WvxWroBGGqEuWM_XRo1GG7CnfWvpNjW4tGdIuveOcGECtuOBItplOZviJwaBwSBudbN1eeOBlBAX3R)
4. 필수 기능에 대한 설명: 
   - 처음 회원가입시에 몇 개의 영화에 대해 평점을 매길 수 있도록 하고,
   - 이를 바탕으로 선호하는 영화 시리즈를 결정, 이 영화 시리즈에 해당하는 영화중 평점을 주지 않은 영화들을 보지 않은 영화라고 간주하여 추천
   - 익명 닉네임 설정 기능: 선호하는 영화 시리즈가 결정되면, 그 시리즈에 해당하는 캐릭터를 결정할 수 있는 질문을 사용자에게 제시. 그 답변 결과 정해진 캐릭터와 무작위 형용사를 조합하여 유저 닉네임 결정.
   - 영화 스케쥴러: 영화에 후속작 관계를 이용하여 영화 관람 순서를 사전에 어느정도 정해둠. 실제로 영화를 볼려고 보는 시간에 대한 정보를 입력하면, 이 조건에 맞는 영화들을 그 시간에 맞게 배치하여 사용자에게 제시
5. 배포 서버 URL
   - 백엔드 서버 : http://movie-pick.com/
   - 프론트엔드 서버 :
6. 기타(느낀점)

## 진행

- 5/20 
  - 직접 만나서 공통에 해당하는 부분 작성
  - 가장 크게 구현하고자 하는 기능을 결정
  - erd 작성
  - 이후 필요한 api ends point를 협의
  - front의 전체적인 조형을 결정하는 테마를 결정
  - trello와 google docs를 이용해 진행상황 및 합의점 기록
  - 기초적인 데이터 틀 및 수집
  - 느낌점: 일단 서로 분업을 원했고 서로 나뉘어져 편하게 작업할 수 있도록 공유할만한 부분을 정해놓고 시작하려고 했다. 그러다보니 기능부터 erd, api ends points가 결국 양쪽에서 합의해놔야할 제일 중요한 부분이 되었고, 이를 결정했다. 생각보다 툴이 잘 되어 있어서 작성하고 수정하는 데에는 별 문제가 없었다. 다만 기능이나 컨셉만 잡히고 나면 생각보다 빨리 회의가 끝날 것이라고 생각했던 것과는 달리 생각보다 오래 걸렸고, 남는 시간은 구현을 위한 상세 데이터를 모으는데에 썼다. 
- 5/21
  - 구체적인 데이터 수집
  - 개발 시작
  - erd에 기반한 모델 구축
  - movies app의 fixture 생성
  - rest_framework, rest_framwork_jwt, all_aut, rest_framework_auth를 이용한 로그인, 회원가입, 로그아웃 구현
  - 느낀점: 일단 컨셉이 잡히고 나니 컨셉에 맞는 데이터를 모아야해서 이를 걸러내는 작업이 시간이 좀 걸렸다. 그리고 장고의 경우 꽤나 오랜 시간을 할애해서 써본 프로그램임에도 불구하고, 막상 내가 만든 명세대로 짤 생각을 하니까 머리가 하얘지는 느낌을 받았다. 이것도 해야되고 저것도 해야되는데 우선순위도 애매모호하고 가장 먼저할 것은 정해져있지만 연결관계가 복잡해지다보니 이거 하려면 저게 필요하고 저거하려면 이게 필요한 상황이 나와서 뭐부터할지 정하는데 꽤나 애를 먹었다. 결과적으로 데이터가 변할 일이 없는 곳부터 시작을 했고, 나중에도 많은 수정이 발생하긴 했지만 괜찮게 시작한 것 같다. 그리고 한글 인코딩 때문에 fixture만드는데 애를 먹어서 이것도 시간을 꽤나 썼다. 결국 json으로 만드는 건 포기하고 csv로 저장해놨다가 직접 db건드려서 데이터를 넣게 되었다. 그리고 라이브러리를 꽤나 이것저것 썼는데 설정만 잘 하면 확실히 편리하긴 했다. 다만 내가 마음대로 커스텀할 수가 없다는 점이 조금 아쉬웠다.
- 5/22
  - movies app에 관련된 기능 구현
  - community app에 관련된 기능 구현
  - 느낀점: 백엔드쪽이 실제로 있어야 프론트가 만들기 편할것 같아서 나중에 좀 시간이 비더라도 주말 써서 빨리 만들어주는 게 좋다고 판단했다. 그래서 주말동안 작업을 하게 되었고, movies와 community관련은 꽤 여러 번 했던 주제라 그래도 나름 빠르게 한 것 같다. 다른건 평이한 난이도였는데, orm을 본격적으로 써야되기 시작하자 제대로된 명령어를 짜기 위해 이것저것 문서 뒤져서 하나 겨우 짜는 경험을 했었는데, 차라리 sql이 낫겠다란 생각이 좀 들었다. 지금도 그렇게 하면 된다고는 알지만 왜 그렇게 하는지는 모르겠다.  
- 5/23
  - accounts app에 관련된 기능 구현
  - 느낀 점: 이번 프로젝트의 가장 핵심이 되는 기능들이 모인 app이라서 신경써서 만들었다. 그리고 이 때 model에도 많이 변화가 있었다. 초기에는 모델들을 연결하는 방법도 있고 하니까 최소한의 정보만 모델이 들고 있게 하고 그 데이터 버무리는 거는 orm 잘 쓰면 되겠지라고 생각했는데, 실력이 부족해서 orm문을 짜기가 점점 어려워지니까 아 이럴거면 차라리 그냥 이 데이터 들고있게 할 걸이란 생각이 자꾸 들었고, 대부분 실제로 모델에 데이터를 들고 있게 바꾸게 되었다. 후반에는 초기에 erd와는 꽤나 다르게 되었다.  
- 5/24
  - accounts app에 관련된 기능 중 못 다한 것들 마저 구현
  - 프론트와의 협의를 통해 변경된 점들 반영
  - db에 채울 데이터 생성
  - 느낀 점: 마지막 핵심 기능이 영화 스케쥴러 기능을 구현했다. 주말간에 구른 경험이 쌓여서 그런지 생각보다는 빠르게 완성할 수 있었다. 그리고 백엔드 개발이 마무리과정에 들어가고 있었기 때문에 두루뭉술하게 적어놓았던 api문서를 좀 더 확실하게 바꿀 수 있게 되어서 이를 더 정확히 api 문서에 반영했다. 가독성이 많이 올라갔다. 그리고 백엔드가 끝나고 나면 결국 시연이나 ppt에 보여줄 화면들이 필요하겠다란 생각에 도달해, 보여주기 위한 데이터를 조금 더 만들자는 얘기가 나와서 남은 시간동안은 데이터를 만들었다.
- 5/25
  - db에 채울 데이터 마무리
  - 최종 fixture 생성
  - 배포
  - 느낀 점: 어제 다 못 만든 데이터를 추가적으로 만들어서 넣었고, 이 또한 서버측에서 필요해서 fixture로 만들었다. 지금도 왜 문제가 생겼다 안 생겼다 하는지 모르겠다. 인코딩 문제라는 건 알겠는데 어떨 때는 되고 어떨 때는 안 돼서 이게 대체 뭔 차이인지를 모르겠다. 그래도 마지막에 전체 데이터로 만든 fixture를 뽑아내긴 했는데 문제는 이게 model에 등록된 필드들은 다 정확하게 가져왔는데 model간의 연결관계로만 이루어진 필드는 왜인지 값이 누락되거나 변질돼서 결국에 json으로 fixture만드는건 잘 된 부분만 활용하고, 그냥 ubunto환경에서 sqlite3를 사용할 수 있는 방법을 찾았다. 그리고 남는 시간동안 가능하면 배포를 하려고 이것저것 시도했었는데, 처음에는 서울이 가까운 데이터센터니까 거기다가 만들려고 시도하다가 무료계정은 그쪽에 접근을 못한다는 걸 뒤늦게 깨닫고 그냥 미국에다 만들었다. 그리고 그냥 배포안내문서대로 만들긴 했는데, 대충 무슨 역할을 하는 지 써놓기는 했지만, 다 하고 나서 보니까 aws쓰는 법을 아는게 하나도 없다는 느낌이 들었다. 백엔드쪽으로 갈거면 cs나 aws등 알아야할 게 많다고 느꼈다. 
- 5/26
  - 최종 점검
  - 발표용 자료 만들기
  - 느낀 점: 배포된 후에도 수정사항이 나와서 고치고 있는데 버전관리의 중요성을 뼈저리게 느끼고 있다. cloud9서비스 덕분에 고치는게 그렇게까지 힘들지는 않지만 매번 같은 행동을 두 군데서 제대로 했는지 확인해가면서 하려니 머리가 보통 아픈게 아니다. 그리고 postman으로 보내는게 항상 같은 형식으로 변환되리란 보장은 할 수 없단걸 알았다.